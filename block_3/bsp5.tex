\newcommand\Ext[2]{\infer[]{#1}{#2}}
\newcommand\PC[2]{\infer[\text{\tiny(pc)}]{#1}{#2}}
\newcommand\TC[2]{\infer[\text{\tiny(tc)}]{#1}{#2}}

\textbf{Solution:}\newline

The syntax of the TPL-language can be extended as follows:%
\begin{equation*}
\mathcal{P}::=\mathsf{skip}\mid \mathsf{abort}\mid \mathcal{V}:=\mathcal{E}%
\mid \mathcal{P};\mathcal{P}\mid \mathsf{if}\;\mathcal{E}\;\mathsf{then}\;%
\mathcal{P}\;\mathsf{else}\;\mathsf{P}\;\mathsf{fi}\mid \mathsf{while}\;%
\mathcal{E}\;\mathsf{do}\;\mathcal{P}\;\mathsf{od}\mid \kw{assert}\ \mathcal{%
E}
\end{equation*}

where,%
\begin{eqnarray*}
\mathcal{E} &:&:=\mathcal{V}\mid \mathcal{N}\mid \mathcal{UE}\mid (\mathcal{%
EBE}) \\
\mathcal{V} &:&:=x\mid y\mid z\mid \ldots \mid x_{0}\mid x_{1}\mid \ldots  \\
\mathcal{N} &:&:=0\mid 1\mid 2\mid 3\mid \ldots  \\
\mathcal{U} &:&:=+\mid -\mid \lnot \mid \ldots  \\
\mathcal{B} &:&:=+\mid -\mid \ast \mid /\mid <\mid \ldots 
\end{eqnarray*}

Beside the syntax extension of TPL, the semantics for $\kw{assert}\ e$ can
be defined as a first member citizen (this means that no other
program-statements will be used), as follows:

\begin{enumerate}
\item Natural Semantics:%
\begin{equation*}
\lbrack \kw{assert}\ e\rbrack\sigma =\sigma \;\text{if }[e]\sigma \neq 0
\end{equation*}

\item Structural Operational Semantics:%
\begin{equation*}
(\kw{assert}\ e,\sigma )\,\Rightarrow \,\sigma \;\text{if }[e]\sigma \neq 0
\end{equation*}


\item Hoare Calculus Rules:
	\begin{itemize}
	\item for \textit{partial correctnes}:

\begin{small}
$
\Ext{ \CA{F}{\kw{assert}\ e}{G} }
{
	  \Ia{ \CA{F}{\IF\ e\ \THEN\ \SKIP\ \ELSE\ \ABORT\ \FI}{G} }
	  {
		\La{ \CA{F\land c}{\SKIP}{G} }
		{(F\land e)\Rightarrow F'}
		{
			\Ext{ \CA{F'}{\SKIP}{F'} }
			{-}
		}
		{F'\Rightarrow G}
	  }
	  { 
		\Lb{ \CA{F\land \neg e}{\ABORT}{G} }
		{(F\land\neg e) \Rightarrow F' }
		{
			\Ext{ \CA{F'}{\ABORT}{G} }
			{-}
		}
	  }
}
$
\end{small}

$$
\PC { \CA{F}{\kw{assert}\ e}{G} }
{ F\Rightarrow (e\Rightarrow G)}
$$

	\item for \textit{total correctness}:

\begin{small}
$
\Ext{ \CA{F}{\kw{assert}\ e}{G} }
{
	  \Ia{ \CA{F}{\IF\ e\ \THEN\ \SKIP\ \ELSE\ \ABORT\ \FI}{G} }
	  {
		\La{ \CA{F\land c}{\SKIP}{G} }
		{(F\land e)\Rightarrow F'}
		{
			\Ext{ \CA{F'}{\SKIP}{F'} }
			{-}
		}
		{F'\Rightarrow G}
	  }
	  { 
		\Lb{ \CA{F\land \neg e}{\ABORT}{G} }
		{(F\land\neg e) \Rightarrow F' }
		{
			\Lb{ \CA{F'}{\ABORT}{G} }
			{F'\Rightarrow \FALSE}
			{
				\Ext{ \CA{\FALSE}{\ABORT}{G} }
				{-}
			}
		}
	  }
}
$
\end{small}

thus\\
$$
\TC { \CA{F}{\kw{assert}\ e}{G} }
{ F\Rightarrow (e\land G)}
$$

	\end{itemize}
\end{enumerate}
